---
layout: post
title: Что такое виртуализация?
subtitle: Заголовок
summary: Саммари
cover_url: "/images/virtualization/virtualization_cover.png"
---

У пользователей Linux или Mac иногда возникает потребность в запуске программ работающих только в Windows, а у Windows пользователей, особенно программистов, потребность в запуске Linux или другой версии Windows. Классический пример игры или photoshop. Самый очевидный способ сделать это - купить второй компьютер, но это дорогое удовольствие. Второй вариант - поставить Windows рядом со своей основной операционной системой. Такая установка, как правило, может все сломать, но если у вас получилось, во время старта компьютера вы сможете выбрать операционную систему для загрузки. Но существует еще один, третий путь - виртуализация.

### Виртуализация

Сама идея виртуализации операционной системы, довольно простая. Вместо установки на голое железо, специальная программа позволяет делать ее установку внутри себя. Эта программа прикидывается настоящим компьютером эмулируя его поведение для работающей внутри операционной системы. Виртуализация позволяет запускать операционную систему как обычную программу на вашем компьютере! ОС внутри которой стартует другая ОС, называется хост системой, а ОС которая работает в виртуальном окружении - гостевой.

Главный недостаток такого подхода в том, что операционная система сама по себе требовательна к ресурсам. Прибавьте сюда программы стартующие внутри. Следовательно ваше железо должно быть достаточно мощным.

В остальном появляется множество удобств. Такая установка абсолютно безопасна, в любой момент можно все снести и переустановить. Вы можете создать столько виртуальных машин, сколько нужно. Правда запускать их все сразу не стоит. Каждая виртуальная машина получит столько ресурсов, сколько вы укажете. Этим фактом особенно пользуются хостеры (компании занимающиеся хостингом сайтов). Фактически на каждого пользователя создается своя собственная виртуальная машина с квотами соответствующими выбранному тарифу (ограничения по памяти, процессору и так далее). Кроме того, виртуализация изолирует машины друг от друга, а значит вам не придется переживать если пользователи попытаются навредить системе или соседним пользователям. Подобная услуга обычно называется VPS (virtual private server) и в базовой комплектации стоит дешево. Виртуальные машины позволяют эффективнее утилизировать (использовать) ресурсы железной машины. Как правило далеко не всем пользователям нужна мощность того железа, которое стоит у хостера, да и платить за нее он не готов. А вот виртуальная машина может съедать лишь проценты от мощности железа, что позволяет на одной машине размещать десятки клиентов (а то и больше). Получается что и пользователь доволен и хостер заработал свои деньги.

Виртуализации бывают разные. Самая простая - паравиртуализация. Она описана в начале статьи. В случае паравиртуализации гостевая система стартует поверх хостовой ОС. Другой вид виртуализации

### Эмуляция

### Контейнерная виртуализация

Особняком стоит, так называемая, контейнерная виртуализация. В отличие от предыдущих видов, она не связана с запуском ОС в изолированном окружении. При контейнерной виртуализации изоляция происходит на уровне процесса операционной системы. На текущий момент такой вид виртуализации существует только в Linux и доступен он благодаря двум возможностям ядра: cgroups и namespaces. Они позволяют запускать всего лишь один процесс так, как будто он выполняется в своем собственном мире, со своей сетью, своим диском, своей файловой системой и так далее. Подчеркну еще раз что при таком виде виртуализации, происходит запуск процесса в __той же операционной системе и на том же ядре__, а значит вы не можете с помощью нее в Linux запустить Windows. Эту виртуализацию применяют на уровне сервисов составляющих части программного продукта. Самая известная программа, для работы с контейнерной виртуализацией - Docker.

---

*Кирилл Мокевнин*
