<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="/pages/Hexlet/hexletguides.github.io/assets/images/favicons/favicon-128.png">

    <title>Как настроить VS Code для разработки на PHP | Гайды для программистов</title>

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Как настроить VS Code для разработки на PHP | Гайды для программистов</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Как настроить VS Code для разработки на PHP" />
<meta name="author" content="Кирилл Мокевнин" />
<meta property="og:locale" content="ru_RU" />
<meta name="description" content="VS Code – популярный бесплатный редактор кода. Может с легкостью конкурировать с PHP Storm, ведь он бесплатный и с открытым исходным кодом." />
<meta property="og:description" content="VS Code – популярный бесплатный редактор кода. Может с легкостью конкурировать с PHP Storm, ведь он бесплатный и с открытым исходным кодом." />
<link rel="canonical" href="https://github.com/pages/Hexlet/hexletguides.github.io/vscode-for-php-setup/" />
<meta property="og:url" content="https://github.com/pages/Hexlet/hexletguides.github.io/vscode-for-php-setup/" />
<meta property="og:site_name" content="Гайды для программистов" />
<meta property="og:image" content="https://github.com/pages/Hexlet/hexletguides.github.io/assets/images/vscode-for-php-setup/vscode-php-cover.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-28T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://github.com/pages/Hexlet/hexletguides.github.io/assets/images/vscode-for-php-setup/vscode-php-cover.png" />
<meta property="twitter:title" content="Как настроить VS Code для разработки на PHP" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@Кирилл Мокевнин" />
<script type="application/ld+json">
{"@type":"BlogPosting","datePublished":"2019-07-28T00:00:00+00:00","description":"VS Code – популярный бесплатный редактор кода. Может с легкостью конкурировать с PHP Storm, ведь он бесплатный и с открытым исходным кодом.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://github.com/pages/Hexlet/hexletguides.github.io/assets/images/hexlet_logo.png"},"name":"Кирилл Мокевнин"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/pages/Hexlet/hexletguides.github.io/vscode-for-php-setup/"},"url":"https://github.com/pages/Hexlet/hexletguides.github.io/vscode-for-php-setup/","image":"https://github.com/pages/Hexlet/hexletguides.github.io/assets/images/vscode-for-php-setup/vscode-php-cover.png","author":{"@type":"Person","name":"Кирилл Мокевнин"},"headline":"Как настроить VS Code для разработки на PHP","dateModified":"2019-07-28T00:00:00+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link href="/pages/Hexlet/hexletguides.github.io/assets/css/theme.css" rel="stylesheet">

    <!-- custom CSS - Remove this if you don't use it or choose to customize the stylesheet with sass-->
    <link href="/pages/Hexlet/hexletguides.github.io/assets/css/custom.css" rel="stylesheet">
    <link href="/pages/Hexlet/hexletguides.github.io/assets/css/highlight.css" rel="stylesheet">
    <!-- custom CSS end-->

    

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KMJ8HKG');</script>
    <!-- End Google Tag Manager -->

    

  </head>

  

  <body class="layout-post">

    

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMJ8HKG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    

    <!-- Menu Navigation
      ================================================== -->

      <div class="container mb-4">
        <div class="d-flex flex-wrap justify-content-center py-3">
          <a class="navbar-brand me-auto" href="/pages/Hexlet/hexletguides.github.io"><img width="30" alt="Code Basics logo" src="/pages/Hexlet/hexletguides.github.io/assets/images/hexlet_logo.png"></a>
          <ul class="nav nav-pills">
            <li class="nav-item">
              <a class="nav-link" target="_blank" href="https://ru.hexlet.io/programs" alt="Программы обучения">Программы обучения</a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Container
        ================================================== -->
        <main class="container">
          <!-- Begin Article
  ================================================== -->

  <div class="row">
    <div class="col-sm-8 mx-auto">
      <!-- Post Featured Image -->
      
      <!-- End Featured Image -->
      <div class="mainheading">
        <h1 class="posttitle">Как настроить VS Code для разработки на PHP</h1> 
      </div>



      <!-- Post Content -->
      <div class="article-post serif-font">
        <p><strong><a href="https://code.visualstudio.com/">Visual Studio Code</a> – популярный бесплатный редактор кода. Может с легкостью конкурировать с PhpStorm, ведь он бесплатный и с открытым исходным кодом</strong></p>

<p><img src="/assets/images/vscode-for-php-setup/screen.png" alt="Vscode" />
<em>Так может выглядеть интерфейс редактора после установки расширений</em></p>

<h2 id="основные-возможности">Основные возможности</h2>

<ul>
  <li>отладчик кода</li>
  <li>встроенный терминал</li>
  <li>удобные инструменты для работы с Git</li>
  <li>подсветка синтаксиса для множества популярных языков и файловых форматов</li>
  <li>удобная навигация</li>
  <li>встроенный предпросмотр <a href="/markdown">Markdown</a></li>
  <li>умное автодополнение</li>
  <li>встроенный пакетный менеджер</li>
</ul>

<p>VS Code имеет большое количество расширений для разработчика. Для установки нового пакета зайдите во вкладку “Extensions”, введите название пакета в строке поиска, нажмите кнопку “Install”.</p>

<p><img src="/assets/images/vscode-for-php-setup/recommended_extensions.png" alt="extension list" /></p>

<h2 id="editorconfig-for-vs-code">EditorConfig for VS Code</h2>

<p><a href="https://editorconfig.org/">EditorConfig</a> — это конфигурационный файл и набор расширений к большому количеству редакторов кода. Он подхватывает настройки из файла <code class="language-plaintext highlighter-rouge">.editorconfig</code>, который, как правило, размещается в корне проекта.
Расширение автоматически настроит отступы и <a href="https://ru.wikipedia.org/wiki/Перевод_строки">перевод строк</a> единообразно для всех разработчиков, использующих его. PHP код чаще всего выполняется на *nix системах, поэтому необходимо использовать стандарт.</p>

<p>Ниже приводится пример файла <code class="language-plaintext highlighter-rouge">.editorconfig</code>, который используется в Laravel:</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="py">root</span> <span class="p">=</span> <span class="s">true</span>

<span class="c"># Глобальные настройки, которые будут записаны для всех файлов.
</span><span class="nn">[*]</span>
<span class="py">charset</span> <span class="p">=</span> <span class="s">utf-8</span>
<span class="c"># На Unix системах используется lf для перевода строки.
# Это также требование стандарта PSR.
</span><span class="py">end_of_line</span> <span class="p">=</span> <span class="s">lf</span>
<span class="py">insert_final_newline</span> <span class="p">=</span> <span class="s">true</span>
<span class="py">indent_style</span> <span class="p">=</span> <span class="s">space</span>
<span class="py">indent_size</span> <span class="p">=</span> <span class="s">4</span>
<span class="py">trim_trailing_whitespace</span> <span class="p">=</span> <span class="s">true</span>

<span class="c"># Можно задать индивидуальные настройки как для типов файлов,
# так и отдельных файлов по имени.
</span><span class="nn">[*.md]</span>
<span class="py">trim_trailing_whitespace</span> <span class="p">=</span> <span class="s">false</span>

<span class="nn">[*.{yml,vue,js,html}]</span>
<span class="py">indent_size</span> <span class="p">=</span> <span class="s">2</span>

<span class="nn">[{package.json,.travis.yml}]</span>
<span class="py">indent_style</span> <span class="p">=</span> <span class="s">space</span>
<span class="py">indent_size</span> <span class="p">=</span> <span class="s">2</span>

<span class="nn">[lib/**.js]</span>
<span class="py">indent_style</span> <span class="p">=</span> <span class="s">space</span>
<span class="py">indent_size</span> <span class="p">=</span> <span class="s">2</span>
</code></pre></div></div>

<h2 id="php-intelephense">PHP Intelephense</h2>

<p>В редакторе уже есть поддержка синтаксиса и подсказок стандартных функций языка. Но без специального дополнения редактор не будет подсказывать пользовательские функции из других частей проекта. Поэтому для поддержки автодополнения, анализа кода, перехода к месту, где создана функция/класс/переменная (с помощью шортката <code class="language-plaintext highlighter-rouge">Alt+Click</code>), используется дополнение <a href="https://marketplace.visualstudio.com/items?itemName=bmewburn.vscode-intelephense-client">PHP Intelephense</a></p>

<p>Чтобы подсказки не дублировались необходимо отключить встроенную в редактор поддержку кода для PHP: <code class="language-plaintext highlighter-rouge">Extensions -&gt; Search @builtin php -&gt; PHP Language Features -&gt; Disable</code></p>

<p><img src="/assets/images/vscode-for-php-setup/intelliphense.gif" alt="extension list" /></p>

<p><img src="/assets/images/vscode-for-php-setup/intelliphense2.gif" alt="extension list" /></p>

<h2 id="php-debug">PHP Debug</h2>

<p>При разработке может возникнуть ситуация, когда простых функций отладки и логирования становится недостаточно. Тогда может помочь специальный инструмент — Дебаггер.
Для PHP есть расширение <a href="https://xdebug.org/">xdebug</a>, которое позволяет расставить <a href="https://ru.wikipedia.org/wiki/Точка_останова">точки останова</a> и посмотреть окружение в предполагаемом месте ошибки, выполняя код поэтапно либо до следующей точки.</p>

<p>Чтобы воспользоваться <a href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug">PHP Debug</a>, необходимо установить сам XDebug, без него расширение для редактора работать не будет. Установив расширение, необходимо добавить конфигурацию для PHP в разделе <code class="language-plaintext highlighter-rouge">Debug</code>. После выбора языка в корне проекта будет создан файл <code class="language-plaintext highlighter-rouge">.vscode/launch.json</code> с задачами для Дебаггера. Расширение создаст файл со стандартными параметрами.</p>

<p>Для того, чтобы XDebug общался с нашим дебаггером, необходимо добавить настройки в файл конфигурации php.
Чтобы найти этот файл выполните в терминале команду <code class="language-plaintext highlighter-rouge">php --ini</code> или запустите веб-сервер с кодом <code class="language-plaintext highlighter-rouge">phpinfo()</code>.</p>

<p>В Linux PHP подгружает не только основной файл, но и файл из этой директории. Например, на Ubuntu путь к директории конфигурационных файлов для PHP может быть таким — <code class="language-plaintext highlighter-rouge">/etc/php/7.3/cli/conf.d/</code>.
В ней создаём файл с необходимыми правами (требуются root права):</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="nv">$ </span><span class="nb">sudo touch</span> /etc/php/7.3/cli/conf.d/99-local.ini
<span class="nv">$ </span><span class="nb">sudo chmod </span>777 /etc/php/7.3/cli/conf.d/99-local.ini
</code></pre></div></div>

<p>Содержимое файла:</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="py">xdebug.remote_enable</span><span class="p">=</span><span class="s">1</span>
<span class="py">xdebug.remote_host</span><span class="p">=</span><span class="s">127.0.0.1</span>
<span class="py">xdebug.remote_port</span><span class="p">=</span><span class="s">9000 ; Порт, который мы указали в launch.json</span>
<span class="py">xdebug.idekey</span><span class="p">=</span><span class="s">code</span>
<span class="py">xdebug.remote_autostart</span><span class="p">=</span><span class="s">1</span>
</code></pre></div></div>

<p>Это настройки для локальной разработки, когда проект разрабатывается и запускается на одном компьютере, например на вашей рабочей машине</p>

<p><img src="/assets/images/vscode-for-php-setup/xdebug2.gif" alt="debug vscode" /></p>

<p><img src="/assets/images/vscode-for-php-setup/xdebug1.gif" alt="debug vscode" /></p>

<p><img src="/assets/images/vscode-for-php-setup/xdebug3.gif" alt="debug vscode" /></p>

<h2 id="php-sniffer">PHP Sniffer</h2>

<p>В языках программирования есть понятие <em>стиль кодирования</em>. Но не все разработчики знают об этом. Программа, которая отвечает за проверку на соответствие стандартам, называется линтер. В PHP приняты стандарты под названием <a href="https://www.php-fig.org/psr/">PSR</a>. Нас интересуют стандарты PSR-1 и PSR-12. Именно эти два стандарта касаются кодирования и правил оформления.</p>

<p>В PHP в качестве линтера используется <a href="https://github.com/squizlabs/PHP_CodeSniffer#composer">PHP_CodeSniffer</a>.
Для его работы необходимо установить глобально сам линтер <code class="language-plaintext highlighter-rouge">composer global require "squizlabs/php_codesniffer=*"</code> и расширение <a href="https://marketplace.visualstudio.com/items?itemName=wongjn.php-sniffer">PHP Sniffer</a>.</p>

<p>Проверьте, что линтер установился:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="nv">$ </span>phpcs <span class="nt">--version</span>
PHP_CodeSniffer version 3.4.2 <span class="o">(</span>stable<span class="o">)</span> by Squiz <span class="o">(</span>https://www.squiz.net<span class="o">)</span>
</code></pre></div></div>

<p>Выполнить проверку кода в терминале можно с помощью команды <code class="language-plaintext highlighter-rouge">phpcs</code>, явно указав стандарт, который мы хотим использовать, и путь для проверки:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="nv">$ </span>phpcs <span class="nt">--standard</span><span class="o">=</span>PSR12 &lt;<span class="nb">dirname</span><span class="o">&gt;</span>
</code></pre></div></div>

<p><img src="/assets/images/vscode-for-php-setup/phpcs-vscode.png" alt="vscode-phpcs" /></p>

<p><img src="/assets/images/vscode-for-php-setup/phpcsfixer.gif" alt="debug vscode" /></p>

<h2 id="semicolon-insertion-shortcut">Semicolon Insertion Shortcut</h2>

<p>PHP требует разделять инструкции с помощью точки запятой. Расширение <a href="https://marketplace.visualstudio.com/items?itemName=chrisvltn.vs-code-semicolon-insertion">Semicolon Insertion Shortcut</a> добавляет необходимый символ в конец строки с помощью шортката.
Если при нажатии <code class="language-plaintext highlighter-rouge">[Ctrl] + ;</code> символ не вставляется, то необходимо проверить список горячих клавиш и при необходимости назначить комбинацию вручную: <code class="language-plaintext highlighter-rouge">File -&gt; Preferences -&gt; Keyboard Shortcuts</code></p>

<p><img src="/assets/images/vscode-for-php-setup/semicolon.png" alt="semicolon-shortcut" /></p>

<p><img src="/assets/images/vscode-for-php-setup/semicolon.gif" alt="semicolon-shortcut" /></p>

<h2 id="extra">Extra</h2>

<p>Список расширений, которые могут быть использованы не только для PHP:</p>

<ul>
  <li><a href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens">GitLens</a> — в VS Code уже встроена поддержка Git. Но когда базовых возможностей становится недостаточно, на помощь может придти Gitlens. Например, одна из полезных фич — <code class="language-plaintext highlighter-rouge">git blame</code> на текущей строке.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/eamodio/vscode-gitlens/master/images/docs/current-line-blame.png" alt="gitlens" /></p>

<ul>
  <li><a href="https://marketplace.visualstudio.com/items?itemName=oderwat.indent-rainbow">Indent Rainbow</a> — разноцветные отступы в коде. Подсвечивает некорректный отступ. Можно вместо радуги установить оттенки серого.</li>
</ul>

<p><img src="/assets/images/vscode-for-php-setup/intend-rainbow.png" alt="rainbow" /></p>

<ul>
  <li>
    <p><a href="https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync">Settings Sync</a> — плагин, позволяющий синхронизировать настройки редактора между разными компьютерами. В качестве облачного хранилища используется Github Gists. Все настройки можно скачать, указав нужный файл синхронизации.</p>
  </li>
  <li>
    <p><a href="https://github.com/tonsky/FiraCode">Fira Code</a> — моноширинный шрифт, в котором используются лигатуры (объединяет несколько символов в один) для общих комбинаций символов в программировании. Визуальная надстройка для более удобного чтения кода.</p>
  </li>
</ul>

<p><img src="/assets/images/vscode-for-php-setup/fira.gif" alt="fira" /></p>

        <div class="clearfix"></div>
      </div>

      
      <div class="lead text-end my-5">
        <i>Кирилл Мокевнин</i>
      </div>
      

      <!-- Prev/Next -->
      <div class="row PageNavigation mt-4 prevnextlinks d-flex justify-content-between">
        
        <div class="col-md-6 rightborder pl-0">
          <a class="thepostlink" href="https://github.com/pages/Hexlet/hexletguides.github.io/git-guide/">&laquo; Зачем нужен Git</a>
        </div>
        
        
        <div class="col-md-6 text-right pr-0">
          <a class="thepostlink" href="https://github.com/pages/Hexlet/hexletguides.github.io/https-yandex-guide/">Что такое протокол HTTPS, и как он защищает вас в интернете &raquo;</a>
        </div>
        
      </div>
      <!-- End Prev/Next -->


      <!-- Begin Comments
        ================================================== -->
        <section>
          <div id="comments">
            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'hexlet-guides'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

          </div>
        </section>
    </div>
    <!-- End Post -->
    <!-- Sidebar -->
  </div>

  <!-- End Article
    ================================================== -->

        </main>

        <!-- Footer
          ================================================== -->
          <footer class="footer container text-center">

            <ul class="p-0 mb-1 small">
              
              <li>
                <a href="https://ru.hexlet.io/courses" alt="Курсы" target="_blank">Курсы</a>
              </li>
              
              <li>
                <a href="https://cv.hexlet.io/" alt="Оценка резюме" target="_blank">Оценка резюме</a>
              </li>
              
              <li>
                <a href="https://codebattle.hexlet.io/" alt="Алгоритмическая прокачка" target="_blank">Алгоритмическая прокачка</a>
              </li>
              
            </ul>
          </footer>

          <!-- JavaScript
            ================================================== -->
            <script src="/pages/Hexlet/hexletguides.github.io/assets/js/theme.js"></script>
  </body>
</html>
