---
layout: post
title: Что такое tmux?
subtitle: Tmux - терминальный мультиплексор
summary: Tmux - терминальный мультиплексор,предоставляющий пользователю доступ к нескольким терминалам в рамках одного экрана.
cover_url: ""
---

**Tmux - мультиплексор, позволяющий запускать несколько терминалов в одном окне.**
![tmux logo](/images/tmux/tmux-logo.png)

### Особенности

- Доступен для всех unix-подобный систем (Linux, macOS)
- Вместо нескольких окон терминала к серверу — вы можете использовать одно
- Позволяет подключаться/отключаться к текущему состоянию сессии
- Запущенные программы и процессы продолжают работать в фоновом режиме

### Установка

- Ubuntu, Debian:

```shell
$ sudo apt-get install tmux
```

- macOS:

```shell
$ brew install tmux
```

- CentOS, Fedore:

```shell
$ yum install tmux
```

- Arch Linux:

```shell
$ pacman -S tmux
```

### Интерфейс

После запуска `$ tmux`, снизу появляется статус бар, а так же при разделении окон появляется рамки вокруг панели. Каждое окно занимает весь экран и может быть разбито на прямоугольные панели.
В статус баре можно узнать имя текущей сесси в квадратных скобках `[0]`, имя компьютера и время с датой.

Перед всеми командами в tmux необходимо ставить префикс, для этого необходимо использовать сочетание клавиш `Ctrl + b`, префикс можно изменить.

![tmux workspace](/images/tmux/tmux-workspace.png)

### Конфигурация

При запуске Tmux,считывает свои параметры конфигурации.
Глобальный файл конфигурации находится в файле `/etc/tmux.conf` и пользовательский файл конфигурации пользователя находится в файле `~/.tmux.conf`.

- Для изменения префикса c `Ctrl-b` на `Ctrl-a` необходимо добавить следующий код в файл `~ / .tmux.conf`:

```
unbind C-b
set -g prefix C-a
bind C-a send-prefix
```

- Включение режима мыши (скроллинг, перемещение, размеры)

```
set -g mouse on
```

- Увеличить историю скролла до 5000 строк

```
set -g history-limit 5000
```

- Настройка статусной строки

```
set -g status-fg  green
set -g status-bg  black
```

Для применения новых настроек, необходимо перечитать конфигурационный файл:

```shell
$ source ~/.tmux.conf
```

### Управление сессиями

При каждом запуске tmux запускается новая сессия.После выхода из сессии можно обратно к ней подключиться и продолжить работу.

- Запуск tmux, по умолчанию создастся сессия с именем 0

```shell
$ tmux
```

- Создать новую сессию с именем 'dev'

```shell
$ tmux new-session -s dev
$ tmux new -s dev
```

- Подключиться к последней розданной сессии

```shell
$ tmux attach
$ tmux at
$ tmux a
```

- Подключиться к сессии с именем 'dev'

```shell
$ tmux attach -t dev
$ tmux at -t dev
$ tmux a -t dev
```

- Просмотреть все сессии

```shell
$ tmux ls
```

- Закрыть сессию с именем 'dev'

```shell
$ tmux kill-session -t dev
```

- Закрыть все сессии

```shell
$ tmux kill-server
```

- Отсоединиться от текущей сессии:
  `Ctrl + b d`
- Перейти к предыдущей сессии:
  `Ctrl + b (`
- Перейти к следующей сессии:
  `Ctrl + b )`
- Перейти к ранее использованной сессии:
  `Ctrl + b L`
- Выберите сессию из списка сессий:
  `Ctrl + b s`

### Управление панелью

Основные команды для работы с панелями:

- Разбить окно по горизонтали:
  `Ctrl + b "`
- Разбить окно по вертикали:
  `Ctrl + b %`
- Перемещение между панелями:
  `Ctrl + b ↑ → ↓ ←`
- Изменение размеров панели:
  `Ctrl + b + ↑ → ↓ ←`
- Закрыть панель:
  `Ctrl + b x`
- Переключение между всеми панелями по очереди:
  `Ctrl + b o`
- Показать номера панелей:
  `Ctrl + b q`
- Переключение режимов отображения:
  `Ctrl + b Space`
- Переместить текущую панель вправо:
  `Ctrl + b }`
- Переместить текущую панель влево:
  `Ctrl + b {`
- Развернуть текущую панель на весь экран:
  `Ctrl + b z`

### Управление окнами

Каждый сеанс может иметь несколько окон. По умолчанию все окна нумеруются, начиная с `0`.

- Cоздать новое окно:
  `Ctrl + b c`
- Cписок окон, можно переключаться:
  `Ctrl + b w`
- Переключиться на следующее окно:
  `Ctrl + b n`
- Переключиться на предыдущее окно:
  `Ctrl + b + p`
- Поиск окна:
  `Ctrl + b f`
- Переименовать окно:
  `Ctrl + b ,`
- Закрыть окно:
  `Ctrl + b &`

### Вспомогательные команды

- Список всех команд tmux:

```shell
$ tmux list-commands
```

- Список клавиш для назначения tmux:

```shell
$ tmux list-keys
```

### Кастомизация

Tmux можно кастомизировать, изменения применяются к статус бару, и цветовой палитре.
Репозитории с темами: [.tmux](https://github.com/gpakosz/.tmux), [nord-tmux](https://github.com/arcticicestudio/nord-tmux), [tmux-themepack](https://github.com/jimeh/tmux-themepack).

- Документация
  [Wiki проекта](https://github.com/tmux/tmux/wiki)
